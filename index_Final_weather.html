<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Weather api integration</title>
        
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>

    <!--    https://api.openweathermap.org/data/2.5/weather?q=boston,usa&appid=35f408c6bbef0cf7c1b79cb22f2d29c4
            http://api.openweathermap.org/data/2.5/weather?zip=22180,us&appid=35f408c6bbef0cf7c1b79cb22f2d29c4
    
    -->
        
    </head>
    <body style = "font-family: Arial">
        <table>
            <tr>
                <td>City</td>
                <td><input type="text" id="txtCity"/></td>
            </tr>
            
            <tr>
                <td>Country</td>
                <td><input type="text" id="txtCountry" /></td>
            </tr>
        </table>
        <input type = "button" id = "btnGetWeather" value="Get Weather Data">
        <br/><br />
        <div id = "resultDiv"> </div>
        
        <script type="text/javascript">
    
            $(document).ready(function()
            {
                $('#btnGetWeather').click(function()
                {
                    var weatherid = '35f408c6bbef0cf7c1b79cb22f2d29c4';
                    var requestData = $('#txtCity').val() + ',' + $('#txtCountry').val();
                    var resultElement = $('#resultDiv');
         
                        $.ajax ({
                            url: 'https://api.openweathermap.org/data/2.5/weather?q='+ requestData +'&units=imperial&appid='+ weatherid,
                            method: 'get'
                        })
                            .done (function (data) 
                                {
                                resultElement.html ('Weather: '+ data.weather[0].main +
                                 '<br/>' +
                                'Description: ' + data.weather[0].description +
                                '<br/>'+
                                'temparature: '+ data.main.temp +' Fahrenheit' +
                                '<br/>'+
                                'Wind Speed: '+ data.wind.speed +' Miles/Hour');                            
                            })                    
                            .fail (function (data) {
                                //alert ('error block');
                                resultElement.html(data.responseJSON.message);
                            });                   
                });
            });
        </script>
    </body>
</html>